\documentclass[main]{subfiles}
\begin{document}
\begin{frame}{Abstract UTxO: Example transaction graph}
\begin{code}[hide]%
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{OPTIONS}\AgdaSpace{}%
\AgdaPragma{--rewriting}\AgdaSpace{}%
\AgdaPragma{--allow-unsolved-metas}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\AgdaSpace{}%
\AgdaComment{--\ to\ avoid\ eta-expansions}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Agda.Builtin.Equality.Rewrite}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Init}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{SetAsType}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Nat}\AgdaSpace{}%
\AgdaKeyword{hiding}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}≥\AgdaUnderscore{}}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.General}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.DecEq}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Decidable}\AgdaSpace{}%
\AgdaKeyword{hiding}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{auto}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Lists}\AgdaSpace{}%
\AgdaKeyword{hiding}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}↦\AgdaUnderscore{}}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Lists.Dec}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Ord}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.InferenceRules}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Lists}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}∥\AgdaUnderscore{}≡\AgdaUnderscore{}}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Nary}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Bags}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.UTxO}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.Ledger}\AgdaSpace{}%
\AgdaKeyword{hiding}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaField{⟦\AgdaUnderscore{}⟧}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.HoareLogic}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.HoareProperties}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.SL}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{()}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{ℝ[FRAME]}\AgdaSpace{}%
\AgdaSymbol{to}\AgdaSpace{}%
\AgdaFunction{[FRAME]}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ValueSepUTxO.CSL}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{()}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{ℝ[PAR]}\AgdaSpace{}%
\AgdaSymbol{to}\AgdaSpace{}%
\AgdaFunction{[PAR]}\AgdaSymbol{)}\<%
\end{code}
\begin{code}%
\>[0]\AgdaFunction{A}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Address}\<%
\end{code}
\begin{code}[hide]%
\>[0]\AgdaFunction{A}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{111}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{222}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{333}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{444}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{postulate}\AgdaSpace{}%
\AgdaPostulate{t₀}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Tx}\<%
\\
\>[0]\AgdaFunction{t₀₀}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{t₀}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{at}}\AgdaSpace{}%
\AgdaNumber{0}\<%
\\
\>[0]\AgdaFunction{t₀₁}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{t₀}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{at}}\AgdaSpace{}%
\AgdaNumber{1}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{postulate}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{TxOutput}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaRecord{TxInfo}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{DATA}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Bool}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaPostulate{in₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaFunction{t₀₀}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{A}\<%
\\
%
\>[2]\AgdaPostulate{in₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaFunction{t₀₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{D}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{REWRITE}\AgdaSpace{}%
\AgdaPostulate{in₁}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{REWRITE}\AgdaSpace{}%
\AgdaPostulate{in₂}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}—→⟨\AgdaUnderscore{}∣\AgdaUnderscore{}⟩\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Address}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{Value}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaRecord{TxOutput}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{Address}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaRecord{Tx}\<%
\\
\>[0]\AgdaBound{A}%
\>[131I]\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaBound{v}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{or}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaKeyword{record}\<%
\\
\>[.][@{}l@{}]\<[131I]%
\>[2]\AgdaSymbol{\{}\AgdaSpace{}%
\AgdaField{inputs}%
\>[12]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaKeyword{record}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaSpace{}%
\AgdaField{outputRef}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{or}\AgdaSpace{}%
\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{validator}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaBound{or}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{redeemer}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\>[2]\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{outputs}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{v}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{at}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\>[2]\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{forge}%
\>[12]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaNumber{0}\<%
\\
%
\>[2]\AgdaSymbol{\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Tx}\<%
\\
\>[0]\AgdaComment{--\ t₀\ =\ record\ \{inputs\ =\ [];\ outputs\ =\ 1\ at\ A\ ∷\ 1\ at\ D\ ∷\ [];\ forge\ =\ 2\}}\<%
\\
\>[0]\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{t₀₀}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{B}\<%
\\
\>[0]\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{t₀₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{C}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{t₁₀}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{at}}\AgdaSpace{}%
\AgdaNumber{0}\<%
\\
\>[0]\AgdaFunction{t₂₀}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{at}}\AgdaSpace{}%
\AgdaNumber{0}\<%
\\
\>[0]\AgdaKeyword{postulate}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaPostulate{in₃}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaFunction{t₁₀}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{B}\<%
\\
%
\>[2]\AgdaPostulate{in₄}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{mkValidator}\AgdaSpace{}%
\AgdaFunction{t₂₀}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{♯}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{C}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{REWRITE}\AgdaSpace{}%
\AgdaPostulate{in₃}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{REWRITE}\AgdaSpace{}%
\AgdaPostulate{in₄}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{t₁₀}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{A}\<%
\\
\>[0]\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{t₂₀}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{D}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{postulate}\AgdaSpace{}%
\AgdaPostulate{⋯}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPrimitive{Set}\AgdaSpace{}%
\AgdaGeneralizable{ℓ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaBound{A}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{auto}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟦}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟧}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟦}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟧}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≡}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∋}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟦}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟧}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{auto}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{keepˡ}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{keepʳ}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{keepˡ}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{keepʳ}}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{HoareReasoning}\<%
\\
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{or}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{auto∶}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≢}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaKeyword{where}\AgdaSpace{}%
\AgdaKeyword{postulate}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaPostulate{\AgdaUnderscore{}↝\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{ℝ⟨}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{or}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟨}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\<%
\\
%
\>[2]\AgdaOperator{\AgdaPostulate{\AgdaUnderscore{}↜\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{ℝ⟨}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{—→⟨}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{or}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟨}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaBound{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\<%
\end{code}
\begin{code}%
\>[0]\AgdaFunction{t₁-₄}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∋}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟦}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟧}}\<%
\end{code}
\tikzset{
  tx/.style =
  { draw           = gray
  , shape          = rectangle
  , align          = center
  , minimum width  = .5cm
  , minimum height = 1.5cm
  }
, mid/.style =
  { draw
  , yshift       = .5cm
  , shape        = circle
  , inner sep    = 0pt
  , minimum size = 4pt
  }
, arg/.style =
  { anchor = center
  , align  = left
  , font   = \scriptsize
  }
, to/.style =
  { -
  , bend left = 30
  , thick
  }
, every matrix/.style =
  { column sep            = 2.2cm
  , row    sep            = 1cm
  , ampersand replacement = \&
  }
}
\begin{tikzpicture}
  \matrix (mat) [matrix of nodes, nodes in empty cells] {
     \node[mid,red] (iAB) {}; \& \node[tx] (AB) {t₁};
  \& \node[mid,red] (iBA) {}; \& \node[tx] (BA) {t₃};
  \& \node[mid,red] (oBA) {}; \& \node (finAB) {};
  \\ \node[mid,red] (iDC) {}; \& \node[tx] (DC) {t₂};
  \& \node[mid,red] (iCD) {}; \& \node[tx] (CD) {t₄};
  \& \node[mid,red] (oCD) {}; \& \node (finCD) {};
  \\
  };
  \path
  (iAB) edge[to, red]
  (AB) node[below] {1 locked by A}
  (AB) edge[to, black]
  (iBA)
  (iBA) edge[to, red]
  (BA) node[below] {1 locked by B}
  (BA) edge[to, black]
  (oBA)
  (oBA) edge[to, red]
  (finAB) node[below] {1 locked by A}
  (iDC) edge[to, red]
  (DC) node[below] {1 locked by D}
  (DC) edge[to, black]
  (iCD)
  (iCD) edge[to, red]
  (CD) node[below] {1 locked by C}
  (CD) edge[to, black]
  (oCD)
  (oCD) edge[to, red]
  (finCD) node[below] {1 locked by D}
  ;
\end{tikzpicture}
\end{frame}
\begin{frame}[fragile]{Abstract UTxO: Example derivation (monolithic)}
\begin{code}%
\>[0]\AgdaFunction{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{t₁-₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[0]\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaField{begin}}%
\>[388I]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[42]\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↝}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[.][@{}l@{}]\<[388I]%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{[FRAME]}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↝}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↔}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{[FRAME]}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↜}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↔}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{[FRAME]}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↜}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↔}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{[FRAME]}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↝}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↔}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{↜∗}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[42]\AgdaOperator{\AgdaFunction{∎}}\<%
\end{code}
\end{frame}
\begin{frame}{Abstract UTxO: Example derivation (modular)}
\begin{code}%
\>[0]\AgdaFunction{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\AgdaSpace{}%
\AgdaFunction{t₁-₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[0]\AgdaSymbol{\AgdaUnderscore{}}%
\>[656I]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaField{begin}}%
\>[658I]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}%
\>[26]\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[43]\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{∗↝}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[.][@{}l@{}]\<[658I]%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[43]\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₁-₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{[PAR]}\AgdaSpace{}%
\AgdaFunction{auto}\AgdaSpace{}%
\AgdaFunction{H₁}\AgdaSpace{}%
\AgdaFunction{H₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩++}}\<%
\\
%
\>[10]\AgdaSymbol{(}\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[43]\AgdaOperator{\AgdaFunction{\textasciitilde{}⟪}}\AgdaSpace{}%
\AgdaFunction{↜∗}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[10]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}%
\>[26]\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}%
\>[43]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
\>[.][@{}l@{}]\<[656I]%
\>[2]\AgdaKeyword{where}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{H₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{ℝ⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟨}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\<%
\\
%
\>[4]\AgdaFunction{H₁}\AgdaSpace{}%
\AgdaSymbol{=}%
\>[749I]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↝}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[.][@{}l@{}]\<[749I]%
\>[9]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₃}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↜}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[9]\AgdaFunction{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{B}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[4]\AgdaFunction{H₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{ℝ⟨}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∷}}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟨}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟩}}\<%
\\
%
\>[4]\AgdaFunction{H₂}\AgdaSpace{}%
\AgdaSymbol{=}%
\>[808I]\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↜}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
\>[.][@{}l@{}]\<[808I]%
\>[9]\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\textasciitilde{}⟨}}\AgdaSpace{}%
\AgdaFunction{t₄}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∶-}}\AgdaSpace{}%
\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaPostulate{↝}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟩}}\<%
\\
%
\>[9]\AgdaFunction{C}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{0}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∗}}\AgdaSpace{}%
\AgdaFunction{D}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{↦}}\AgdaSpace{}%
\AgdaNumber{1}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∎}}\<%
\end{code}
\end{frame}
\end{document}
