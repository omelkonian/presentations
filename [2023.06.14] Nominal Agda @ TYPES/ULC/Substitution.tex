\documentclass[main]{subfiles}
\begin{document}
\section*{ULC/Substitution.agda}
\begin{code}%
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{OPTIONS}\AgdaSpace{}%
\AgdaPragma{--allow-unsolved-metas}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
\>[0]\AgdaComment{--\ \{-\#\ OPTIONS\ --auto-inline\ \#-\}}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Init}\AgdaSpace{}%
\AgdaKeyword{hiding}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{[\AgdaUnderscore{}]}}\AgdaSymbol{);}\AgdaSpace{}%
\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{SetAsType}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{L.Mem}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.General}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.DecEq}\<%
\\
\>[0]\AgdaComment{--\ open\ import\ Prelude.Lists.Dec}\<%
\\
\>[0]\AgdaComment{--\ open\ import\ Prelude.Measurable}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.InfEnumerable}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.Setoid}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Prelude.InferenceRules}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ **\ Substitution.}\<%
\\
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{ULC.Substitution}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPrimitive{Type}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaBound{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{DecEq}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaBound{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Enumerable‚àû}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ULC.Base}%
\>[24]\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaFunction{it}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ULC.Measure}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaFunction{it}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaFunction{it}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{ULC.Alpha}%
\>[24]\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaFunction{it}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\AgdaSpace{}%
\AgdaSymbol{‚¶É}\AgdaSpace{}%
\AgdaFunction{it}\AgdaSpace{}%
\AgdaSymbol{‚¶Ñ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Nominal}\AgdaSpace{}%
\AgdaBound{Atom}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Nominal.Product}\AgdaSpace{}%
\AgdaBound{Atom}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ enforce\ the\ Barendregt\ convention:\ no\ shadowing,\ distinct\ bound\ variables}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{TERMINATING}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
\>[0]\AgdaFunction{barendregt}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Op‚ÇÅ}\AgdaSpace{}%
\AgdaDatatype{Term}\<%
\\
\>[0]\AgdaFunction{barendregt}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{go}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{where}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{go}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{List}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaFunction{Op‚ÇÅ}\AgdaSpace{}%
\AgdaDatatype{Term}\<%
\\
%
\>[4]\AgdaFunction{go}\AgdaSpace{}%
\AgdaBound{xs}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{Œª}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[6]\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}%
\>[16]\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
%
\>[6]\AgdaSymbol{(}\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaBound{r}\AgdaSymbol{)}%
\>[16]\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaFunction{go}\AgdaSpace{}%
\AgdaBound{xs}\AgdaSpace{}%
\AgdaBound{l}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaFunction{go}\AgdaSpace{}%
\AgdaBound{xs}\AgdaSpace{}%
\AgdaBound{r}\<%
\\
%
\>[6]\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚áí}}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{‚Üí}%
\>[99I]\AgdaKeyword{let}\AgdaSpace{}%
\AgdaBound{x‚Ä≤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{xs}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\<%
\\
\>[.][@{}l@{}]\<[99I]%
\>[18]\AgdaKeyword{in}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{x‚Ä≤}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚áí}}\AgdaSpace{}%
\AgdaFunction{go}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaBound{xs}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaField{swap}\AgdaSpace{}%
\AgdaBound{x‚Ä≤}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{infix}\AgdaSpace{}%
\AgdaNumber{6}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]}}\<%
\\
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{TERMINATING}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaDatatype{Term}\<%
\\
\>[0]\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{if}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{==}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{then}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{else}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaSymbol{(}\AgdaBound{L}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaBound{M}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{let}%
\>[154I]\AgdaBound{L‚Ä≤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
\>[.][@{}l@{}]\<[154I]%
\>[6]\AgdaBound{M‚Ä≤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\>[2]\AgdaKeyword{in}\AgdaSpace{}%
\AgdaBound{L‚Ä≤}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaBound{M‚Ä≤}\<%
\\
\>[0]\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaComment{--\ let\ y\ =\ fresh-var\ (ùïí\ ,\ tÃÇ\ ,\ N)}\<%
\\
%
\>[2]\AgdaKeyword{let}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{N}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{in}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚áí}}\AgdaSpace{}%
\AgdaFunction{conc}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{infix}\AgdaSpace{}%
\AgdaNumber{6}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]}}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}]}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Abs}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaDatatype{Term}\<%
\\
\>[0]\AgdaSymbol{(}\AgdaInductiveConstructor{abs}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚áí}}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{s}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{infix}\AgdaSpace{}%
\AgdaNumber{6}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]‚Üë}}\<%
\\
\>[0]\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]‚Üë}}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Abs}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaBound{Atom}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaRecord{Abs}\AgdaSpace{}%
\AgdaDatatype{Term}\<%
\\
\>[0]\AgdaSymbol{(}\AgdaInductiveConstructor{abs}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]‚Üë}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{un∆õ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\$}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{ùïí}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚áí}}\AgdaSpace{}%
\AgdaBound{t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{\{-\ **\ well-founded\ version}\<%
\\
\>[0]\AgdaComment{t‚ÇÄ\ [\ ùïí\ /\ s\ ]\ =\ ‚â∫-rec\ \AgdaUnderscore{}\ go\ t‚ÇÄ}\<%
\\
\>[0]\AgdaComment{\ \ module\ ‚à£Substitution‚à£\ where}\<%
\\
\>[0]\AgdaComment{\ \ \ \ go\ :\ ‚àÄ\ x\ ‚Üí\ (‚àÄ\ y\ ‚Üí\ y\ ‚â∫\ x\ ‚Üí\ Term)\ ‚Üí\ Term}\<%
\\
\>[0]\AgdaComment{\ \ \ \ go\ x\ rec\ with\ x}\<%
\\
\>[0]\AgdaComment{\ \ \ \ ...\ |\ `\ x\ \ \ =\ if\ x\ ==\ ùïí\ then\ s\ else\ `\ x}\<%
\\
\>[0]\AgdaComment{\ \ \ \ ...\ |\ l\ ¬∑\ m\ =\ rec\ l\ (l\ ¬∑‚â∫À°\ m)\ ¬∑\ rec\ m\ (l\ ¬∑‚â∫ ≥\ m)}\<%
\\
\>[0]\AgdaComment{\ \ \ \ --\ Cannot\ simply\ use\ `∆õ\ (mapAbs\ go\ f)`\ here;\ need\ well-founded\ recursion}\<%
\\
\>[0]\AgdaComment{\ \ \ \ --\ ...\ |\ ∆õ\ f\ \ \ =\ ∆õ\ mapAbs-Term\ f\ (Œª\ t\ t‚â∫\ ‚Üí\ rec\ t\ t‚â∫)}\<%
\\
\>[0]\AgdaComment{\ \ \ \ ...\ |\ ∆õ\ f\ =}\<%
\\
\>[0]\AgdaComment{\ \ \ \ \ \ let\ y\ ,\ \AgdaUnderscore{}\ =\ fresh\ (nub\ \$\ ùïí\ ‚à∑\ supp\ f\ ++\ supp\ s)}\<%
\\
\>[0]\AgdaComment{\ \ \ \ \ \ in\ \ ∆õ\ y\ ‚áí\ rec\ (conc\ f\ y)\ (conc‚â∫\ f\ y)}\<%
\\
\>[0]\AgdaComment{-\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ **\ postulate\ equivariance\ of\ substitution\ for\ now...}\<%
\\
\>[0]\AgdaKeyword{postulate}\AgdaSpace{}%
\AgdaPostulate{swap-subst}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaMacro{Equivariant}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]}}\<%
\\
\>[0]\AgdaComment{--\ swap-subst\ =\ ?\ --\ equivariant\ \AgdaUnderscore{}[\AgdaUnderscore{}/\AgdaUnderscore{}]}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ **\ we\ will\ also\ need\ the\ following\ lemmas\ for\ proving\ Reduction.sub-par\ (Œ≤\ case)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaGeneralizable{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âà}}\AgdaSpace{}%
\AgdaGeneralizable{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
\>[0]\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{L}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{y}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaComment{--\ exclude\ with\ x\ ‚â†\ y}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaHole{\{!subst-commute\ !\}}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†y}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{‚âü-refl}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaHole{\{!!\}}\<%
\\
%
\>[2]\AgdaComment{--\ prove\ with\ y\ ‚ôØ\ L}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{‚âü-refl}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{‚âà-refl}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†y}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{dec-no}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSpace{}%
\AgdaSymbol{.}\AgdaField{proj‚ÇÇ}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[8]\AgdaSymbol{|}\AgdaSpace{}%
\AgdaFunction{dec-no}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{n‚â†y}\AgdaSpace{}%
\AgdaSymbol{.}\AgdaField{proj‚ÇÇ}\<%
\\
%
\>[8]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{‚âà-refl}\<%
\\
\>[0]\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{NÀ°}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaBound{N ≥}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{L}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{Œæ‚â°}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{NÀ°}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{N ≥}\AgdaSymbol{\})}\<%
\\
\>[0]\AgdaFunction{subst-commute}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{L}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{xÀ°}\ ‚Üê\ \AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{L}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaComment{--\ (∆õ\ xÀ°\ ‚áí\ conc\ tÃÇ\ xÀ°\ [\ x\ /\ L\ ])\ [\ y\ /\ M\ [\ x\ /\ L\ ]\ ]}\<%
\\
%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{yÀ°}\ ‚Üê\ \AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{abs}\AgdaSpace{}%
\AgdaBound{xÀ°}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\$}}\AgdaSpace{}%
\AgdaFunction{conc}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaBound{xÀ°}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{L}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaComment{--\ ∆õ\ yÀ°\ ‚áí\ conc\ (abs\ xÀ°\ \$\ conc\ tÃÇ\ xÀ°\ [\ x\ /\ L\ ])\ yÀ°\ [\ y\ /\ M\ [\ x\ /\ L\ ]\ ]}\<%
\\
%
\>[2]\AgdaComment{--\ \ \ \ \ \ ‚â°\ conc\ tÃÇ\ yÀ°\ [\ x\ /\ L\ ]\ [\ y\ /\ M\ [\ x\ /\ L\ ]\ ]}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{y ≥}\ ‚Üê\ \AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{M}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaComment{--\ (∆õ\ y ≥\ ‚áí\ conc\ tÃÇ\ y ≥\ [\ y\ /\ M\ ])\ [\ x\ /\ L\ ]}\<%
\\
%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{x ≥}\ ‚Üê\ \AgdaFunction{freshAtom}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{‚à∑}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{abs}\AgdaSpace{}%
\AgdaBound{y ≥}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{\$}}\AgdaSpace{}%
\AgdaFunction{conc}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSpace{}%
\AgdaBound{y ≥}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaBound{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{++}}\AgdaSpace{}%
\AgdaFunction{supp}\AgdaSpace{}%
\AgdaBound{L}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaComment{--\ ∆õ\ x ≥\ ‚áí\ conc\ (abs\ y ≥\ \$\ conc\ tÃÇ\ y ≥\ [\ y\ /\ M\ ])\ x ≥\ [\ x\ /\ L\ ]}\<%
\\
%
\>[2]\AgdaComment{--\ \ \ \ \ \ ‚â°\ conc\ tÃÇ\ x ≥\ [\ y\ /\ M\ ]\ [\ x\ /\ L\ ]}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Œ∂‚â°}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaHole{\{!!\}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaSymbol{(Œª}\AgdaSpace{}%
\AgdaBound{z}\AgdaSpace{}%
\AgdaBound{z‚àâ}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaHole{\{!!\}}\AgdaSymbol{))}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{postulate}\AgdaSpace{}%
\AgdaPostulate{cong-subst}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaGeneralizable{t}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âà}}\AgdaSpace{}%
\AgdaGeneralizable{t‚Ä≤}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaGeneralizable{t}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âà}}\AgdaSpace{}%
\AgdaGeneralizable{t‚Ä≤}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ \{-\#\ TERMINATING\ \#-\}}\<%
\\
\>[0]\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaField{swap}\AgdaSpace{}%
\AgdaGeneralizable{y}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaGeneralizable{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{y}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âà}}\AgdaSpace{}%
\AgdaGeneralizable{N}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaGeneralizable{x}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/}}\AgdaSpace{}%
\AgdaGeneralizable{M}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\<%
\\
\>[0]\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{with}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{y}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{‚âü-refl}\AgdaSpace{}%
\AgdaBound{y}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{‚âà-refl}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†y}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{‚âü-refl}\AgdaSpace{}%
\AgdaBound{y}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{‚âà-refl}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{yes}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{dec-no}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{‚â¢-sym}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{.}\AgdaField{proj‚ÇÇ}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaHole{\{!!\}}\AgdaSpace{}%
\AgdaComment{--\ prove\ with\ y\ ‚ôØ\ N}\<%
\\
\>[0]\AgdaSymbol{...}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†x}\AgdaSpace{}%
\AgdaSymbol{|}\AgdaSpace{}%
\AgdaInductiveConstructor{no}\AgdaSpace{}%
\AgdaBound{n‚â†y}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{rewrite}\AgdaSpace{}%
\AgdaFunction{dec-no}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaField{‚âü}}\AgdaSpace{}%
\AgdaBound{y}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{n‚â†y}\AgdaSpace{}%
\AgdaSymbol{.}\AgdaField{proj‚ÇÇ}\<%
\\
%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{‚âà-refl}\<%
\\
\>[0]\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{L}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{¬∑}}\AgdaSpace{}%
\AgdaBound{R}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{Œæ‚â°}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{N}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{L}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{N}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{R}\AgdaSymbol{\})}\<%
\\
\>[0]\AgdaFunction{swap‚àòsubst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaOperator{\AgdaInductiveConstructor{∆õ}}\AgdaSpace{}%
\AgdaBound{tÃÇ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{M}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaComment{\{-}\<%
\\
\>[0]\AgdaComment{swap\ y\ x\ (∆õ\ z\ ‚áí\ t)\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ (∆õ\ swap\ y\ x\ z\ ‚áí\ swap\ y\ x\ t)\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ let\ zÀ°\ =\ freshAtom\ (y\ ‚à∑\ supp\ (swap\ y\ z\ (∆õ\ z\ ‚áí\ t)\ ++\ supp\ M)}\<%
\\
\>[0]\AgdaComment{\ \ in\ ∆õ\ zÀ°\ ‚Üí\ conc\ (swap\ y\ x\ \$\ abs\ z\ t)\ zÀ°\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{\ \ \ \ \ \ \ \ \ \ ‚â°\ conc\ (swap\ y\ x\ \$\ abs\ z\ t)\ zÀ°\ [\ swap\ y\ x\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{\ \ \ \ \ \ \ \ \ \ ‚â°\ conc\ (swap\ y\ x\ \$\ abs\ z\ t)\ (swap\ y\ x\ zÀ°)\ [\ swap\ y\ x\ x\ /\ M\ ]}\<%
\\
\>[0]\<%
\\
\>[0]\AgdaComment{‚â°\ let\ z ≥\ =\ freshAtom\ (x\ ‚à∑\ z\ ‚à∑\ supp\ t\ ++\ supp\ M)}\<%
\\
\>[0]\AgdaComment{\ \ in\ ∆õ\ z ≥\ ‚Üí\ conc\ (∆õ\ z\ ‚áí\ t)\ z ≥\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ (∆õ\ z\ ‚áí\ t)\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚àé}\<%
\\
\>[0]\<%
\\
\>[0]\AgdaComment{conc\ (∆õ\ zÀ°\ ‚Üí\ conc\ (∆õ\ swap\ y\ x\ z\ ‚áí\ swap\ y\ x\ t)\ zÀ°\ [\ y\ /\ M\ ])\ w}\<%
\\
\>[0]\AgdaComment{‚â°\ swap\ w\ zÀ°\ \$\ conc\ (∆õ\ swap\ y\ x\ z\ ‚áí\ swap\ y\ x\ t)\ zÀ°\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ swap\ w\ zÀ°\ \$\ conc\ (∆õ\ swap\ y\ x\ z\ ‚áí\ swap\ y\ x\ t)\ zÀ°\ [\ swap\ y\ x\ x\ /\ M\ ]}\<%
\\
\>[0]\<%
\\
\>[0]\AgdaComment{‚â°\ conc\ (swap\ w\ zÀ°\ \$\ ∆õ\ swap\ y\ x\ z\ ‚áí\ swap\ y\ x\ t)\ w\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ conc\ (∆õ\ swap\ w\ zÀ°\ (swap\ y\ x\ z)\ ‚áí\ swap\ w\ zÀ°\ \$\ swap\ y\ x\ t)\ w\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ conc\ (∆õ\ swap\ w\ zÀ°\ (swap\ y\ x\ z)\ ‚áí\ swap\ w\ zÀ°\ \$\ swap\ y\ x\ t)\ w\ [\ y\ /\ M\ ]}\<%
\\
\>[0]\<%
\\
\>[0]\AgdaComment{‚âà?}\<%
\\
\>[0]\AgdaComment{‚â°\ swap\ w\ z\ t\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ conc\ (∆õ\ z\ ‚áí\ t)\ w\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ conc\ (swap\ w\ z ≥\ \$\ ∆õ\ z\ ‚áí\ t)\ w\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{‚â°\ swap\ w\ z ≥\ \$\ conc\ (∆õ\ z\ ‚áí\ t)\ z ≥\ [\ x\ /\ M\ ]}\<%
\\
\>[0]\AgdaComment{conc\ (∆õ\ z ≥\ ‚Üí\ conc\ (∆õ\ z\ ‚áí\ t)\ z ≥\ [\ x\ /\ M\ ])\ w}\<%
\\
\>[0]\AgdaComment{-\}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Œ∂‚â°}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaHole{\{!!\}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{,}}\AgdaSpace{}%
\AgdaSymbol{Œª}\AgdaSpace{}%
\AgdaBound{w}\AgdaSpace{}%
\AgdaBound{w‚àâ}\AgdaSpace{}%
\AgdaSymbol{‚Üí}\AgdaSpace{}%
\AgdaHole{\{!!\}}\AgdaSymbol{)}\<%
\end{code}
\end{document}
