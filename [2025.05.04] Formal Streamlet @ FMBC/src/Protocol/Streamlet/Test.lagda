\begin{code}[hide]
module Protocol.Streamlet.Test where

open import Prelude
open import Hash
open import DummyHashing
open import Protocol.Streamlet.Assumptions

open import Protocol.Streamlet.Test.Core

_ =
\end{code}
\newcommand\exampleTraceA{%
\begin{code}
  begin
    initGlobalState
  âŸ¶âŸ¨ Propose? ğ•ƒ [] [] âŸ©                                      -- leader proposes bâ‚
    record  { e-now          = 1
            ; history        = [ pâ‚ ]
            ; networkBuffer  = [  [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚ âŸ© ]
            ; stateMap       = [  {- ğ•ƒ -} â¦… Voted , [ pâ‚ ]  , [] , [] â¦†
                               â¨¾  {- ğ”¸ -} â¦… Ready , []      , [] , [] â¦†
                               â¨¾  {- ğ”¹ -} â¦… Ready , []      , [] , [] â¦† ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¹ âˆ£ pâ‚ âŸ© âŸ©
    _
\end{code}
}
\newcommand\exampleTraceB{%
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
\begin{code}
  âŸ¶âŸ¨ Vote? ğ”¹ [] [] âŸ©                                         -- bâ‚ becomes notarized
    record  { e-now          = 1
            ; history        = [ vâ‚ â¨¾ pâ‚ ]
            ; networkBuffer  = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ©  ]
            ; stateMap       = [  â¦… Voted , [ pâ‚ ]       , [] , [] â¦†
                               â¨¾  â¦… Ready , []           , [] , [] â¦†
                               â¨¾  â¦… Voted , [ vâ‚ â¨¾ pâ‚ ]  , [] , [] â¦† ]}
\end{code}
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
}
\begin{code}[hide]
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 2
    ; history       = [ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ©  ]
    ; stateMap      = [ â¦… Ready , [ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Propose? ğ•ƒ [] [] âŸ©                                      -- leader proposes bâ‚‚
    record
    { e-now         = 2
    ; history       = [ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¸ âˆ£ pâ‚‚ âŸ© âŸ©
    record
    { e-now         = 2
    ; history       = [ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚‚ â¨¾ pâ‚ ]  , [] , [] â¦†
                      â¨¾ â¦… Ready , [] , [ pâ‚‚ ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Vote? ğ”¸ [] [] âŸ©                                         -- bâ‚‚ becomes notarized
    record
    { e-now         = 2
    ; history       = [ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Voted , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦† ]}
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 3
    ; history       = [ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ•ƒ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ•ƒ âˆ£ vâ‚ âŸ© âŸ©
   record
   { e-now         = 3
   ; history       = [ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
   ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© ]
   ; stateMap      = [ â¦… Ready , [ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚ ] , [] â¦†
                     â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                     â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                     ]}
  âŸ¶âŸ¨ Register? ğ•ƒ vâ‚ âŸ©
   record
   { e-now         = 3
   ; history       = [ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
   ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© ]
   ; stateMap      = [ â¦… Ready , [ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                     â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                     â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                     ]}
  âŸ¶âŸ¨ Propose? ğ•ƒ [ bâ‚ ] [] âŸ©                                  -- leader proposes bâ‚ƒ
    record
    { e-now         = 3
    ; history       = [ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¹ âˆ£ pâ‚ƒ âŸ© âŸ©
    record
    { e-now         = 3
    ; history       = [ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ â¨¾ pâ‚ ] , [ pâ‚ƒ ] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Vote? ğ”¹ [ bâ‚ ] [] âŸ©                                     -- bâ‚ƒ becomes notarized
    record
    { e-now         = 3
    ; history       = [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Voted , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 4
    ; history       = [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 5
    ; history       = [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ•ƒ âˆ£ vâ‚‚ âŸ© âŸ©
    record
    { e-now         = 5
    ; history       = [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚‚ ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Register? ğ•ƒ vâ‚‚ âŸ©
    record
    { e-now         = 5
    ; history       = [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© ]
    ; stateMap      = [ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Propose? ğ•ƒ [ bâ‚‚ ] [] âŸ©                                  -- leader proposes bâ‚…
    record
    { e-now         = 5
    ; history       = [ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¸ âˆ£ pâ‚… âŸ© âŸ©
    record
    { e-now         = 5
    ; history       = [ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚‚ â¨¾ pâ‚‚ ] , [ pâ‚… ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Vote? ğ”¸ [ bâ‚‚ ] [] âŸ©                                     -- bâ‚… becomes notarized
    record
    { e-now         = 5
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Voted , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Voted , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 6
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ•ƒ âˆ£ vâ‚ƒ âŸ© âŸ©
    record
    { e-now         = 6
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚ƒ ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Deliver? [ ğ•ƒ âˆ£ vâ‚… âŸ© âŸ©
    record
    { e-now         = 6
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Ready , [ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚ƒ â¨¾ vâ‚… ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Register? ğ•ƒ vâ‚ƒ âŸ©
    record
    { e-now         = 6
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚… ] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Register? ğ•ƒ vâ‚… âŸ©
    record
    { e-now         = 6
    ; history       = [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© ]
    ; stateMap      = [ â¦… Ready , [ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
                      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
                      ]}
  âŸ¶âŸ¨ Propose? ğ•ƒ [ bâ‚… â¨¾ bâ‚‚ ] [] âŸ©                             -- leader proposes bâ‚†
    record
    { e-now         = 6
    ; history       = [ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¸ âˆ£ pâ‚† âŸ© âŸ©
    record
    { e-now         = 6
    ; history       = [ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [ pâ‚† ] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ Vote? ğ”¸ [ bâ‚… â¨¾ bâ‚‚ ] [] âŸ©                                -- bâ‚† becomes notarized
    record
    { e-now         = 6
    ; history       = [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Voted , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ AdvanceEpoch âŸ©
    record
    { e-now         = 7
    ; history       = [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ•ƒ âˆ£ vâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Ready , [ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ Deliver? [ ğ•ƒ âˆ£ vâ‚† âŸ© âŸ©
    record
    { e-now         = 7
    ; history       = [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Ready , [ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [ vâ‚† ] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ Register? ğ•ƒ vâ‚† âŸ©
    record
    { e-now         = 7
    ; history       = [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© ]
    ; stateMap      =
      [ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
\end{code}
\newcommand\exampleTraceC{%
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
\begin{code}
  âŸ¶âŸ¨ Propose? ğ•ƒ [ bâ‚† â¨¾ bâ‚… â¨¾ bâ‚‚ ] [] âŸ©                        -- leader proposes bâ‚‡
\end{code}
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
\begin{code}[hide]
    record
    { e-now         = 7
    ; history       = [ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚‡ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‡ âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
  âŸ¶âŸ¨ Deliver? [ ğ”¸ âˆ£ pâ‚‡ âŸ© âŸ©
    record
    { e-now         = 7
    ; history       = [ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‡ âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [ pâ‚‡ ] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
\end{code}
\begin{code}
  âŸ¶âŸ¨ Vote? ğ”¸ [ bâ‚† â¨¾ bâ‚… â¨¾ bâ‚‚ ] [] âŸ©                           -- bâ‚‡ becomes notarized
\end{code}
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
}
\newcommand\exampleTraceD{%
\vspace{-.2em}
$\ \ \ \ \vdots$
\vspace{-.2em}
\begin{code}[hide]
    record
    { e-now         = 7
    ; history       = [ vâ‚‡ â¨¾ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
    ; networkBuffer = [ [ ğ”¸ âˆ£ pâ‚ âŸ© â¨¾  [ ğ”¸ âˆ£ vâ‚ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‚ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‚ âŸ© â¨¾ [ ğ”¸ âˆ£ pâ‚ƒ âŸ© â¨¾ [ ğ”¸ âˆ£ vâ‚ƒ âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚… âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚† âŸ© â¨¾ [ ğ”¹ âˆ£ pâ‚‡ âŸ© ]
                   ++  [ [ ğ•ƒ âˆ£ vâ‚‡ âŸ© â¨¾ [ ğ”¹ âˆ£ vâ‚‡ âŸ© ]
    ; stateMap      =
      [ â¦… Voted , [ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚‚ â¨¾ pâ‚ ] , [] , [] â¦†
      â¨¾ â¦… Voted , [ vâ‚‡ â¨¾ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚‚ â¨¾ pâ‚‚ ] , [] , [] â¦†
      â¨¾ â¦… Ready , [ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚ â¨¾ pâ‚ ] , [] , [] â¦†
      ]}
\end{code}
\begin{code}
  âŸ¶âŸ¨ Finalize? ğ”¸ [ bâ‚† â¨¾ bâ‚… â¨¾ bâ‚‚ ] bâ‚‡ âŸ©                       -- bâ‚† becomes finalized
    record  { e-now          =  7
            ; history        =  [ vâ‚‡ â¨¾ pâ‚‡ â¨¾ vâ‚† â¨¾ pâ‚† â¨¾ vâ‚… â¨¾ pâ‚… â¨¾ vâ‚ƒ â¨¾ pâ‚ƒ â¨¾ vâ‚‚ â¨¾ pâ‚‚ â¨¾ vâ‚ â¨¾ pâ‚ ]
            ; networkBuffer  =  _
            ; stateMap       =  [  â¦… Voted , _ , [] ,  []                â¦†
                                â¨¾  â¦… Voted , _ , [] ,  [ bâ‚† â¨¾ bâ‚… â¨¾ bâ‚‚ ]  â¦†
                                â¨¾  â¦… Ready , _ , [] ,  []                â¦† ]}
  âˆ
\end{code}
}
